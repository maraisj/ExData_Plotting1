x<- read.table("household_power_consumption.txt",sep =";",header=TRUE,na.strings = "?",colClasses=c(rep("character",2),rep("numeric",7)))
x$date<-strptime(x$Date,"%d/%m/%Y")
xSubset<-subset(x,date=="2007-02-02"|date=="2007-02-01")
xSubset$date_time <-strptime(paste(xSubset$Date,xSubset$Time),"%d/%m/%Y %H:%M:%S")
png(file="plot4.png", bg="transparent",width = 480, height = 480)
par(mfrow=c(2,2))
plot(xSubset$date_time,xSubset$Global_active_power,type="l",xlab="",ylab="Global Active Power",main="")
plot(xSubset$date_time,xSubset$Voltage,type="l",xlab="datetime",ylab="Voltage")
plot(xSubset$date_time,xSubset$Sub_metering_1,type="n",xlab="",ylab = "Energy sub metering")
points(xSubset$date_time,xSubset$Sub_metering_1,type="l",col="black")
points(xSubset$date_time,xSubset$Sub_metering_2,type="l",col="red")
points(xSubset$date_time,xSubset$Sub_metering_3,type="l",col="blue")
legend("topright",legend = c("Sub_metering_1","Sub_metering_2","Sub_metering_3"),lty=c(1,1,1),col = c("black","red","blue"),bty="n")
plot(xSubset$date_time,xSubset$Global_reactive_power,type="l",xlab="datetime",ylab="Global_reactive_power")
dev.off()
